# 2025-08-24 PiCar-X 세팅 & 문제 분석

## 🌙 오늘의 흐름
오늘은 라즈베리파이에 **quarts**로 접속하여 **PiCar-X** 환경을 세팅하고 예제 실행을 시도했지만,  
패키지 호환성 문제로 예제 실행까지는 완료하지 못함.  
총 4시간 작업 진행.

---

## 1. 오늘 진행한 작업

### 1.1 라즈베리파이 접속 및 가상환경 설정
ssh jazzin@quarts.local  
python3 -m venv px-venv  
source ~/px-venv/bin/activate

- 가상환경 **px-venv** 활성화 성공.

---

### 1.2 필수 패키지 설치
pip install --upgrade pip setuptools wheel  
pip install robot-hat==1.6.0 readchar==4.2.1  
pip install ./picar-x

- 패키지 설치 자체는 성공했지만, **예제 코드와 호환성 문제 발생**.

---

### 1.3 예제 코드 실행 시도
cd ~/picar-x/example  
python3 1.move.py

#### 에러 발생:
- ImportError: cannot import name 'fileDB' from 'robot_hat'
- ImportError: cannot import name 'reset_mcu' from 'robot_hat.utils'

---

## 2. 문제 원인 분석

| 구분             | 문제 내용                                 | 영향                |
| ---------------- | ---------------------------------------- | ------------------- |
| **패키지 호환성** | robot-hat 최신 버전에서 **fileDB** 삭제됨 | 예제 실행 불가      |
| **코드 의존성**   | 예제 코드가 구버전 API 기반              | 일부 함수 호출 실패 |
| **환경 차이**     | pip 경로 및 venv 경로 불일치 가능성       | 예제 참조 경로 꼬임 |

---

## 3. 오늘의 결론
- **문제 핵심**: 예제 코드가 **구버전 API**에 의존하는데,  
  robot-hat 패키지가 최신 버전(1.6.0)에서 API 구조를 변경하여 충돌 발생.
- **해결 방향**:
    1. robot-hat 패키지를 **구버전(1.5.x)** 으로 다운그레이드해 재시도
    2. 또는 예제 코드를 최신 API에 맞게 직접 수정
- **오늘 상태**: 예제 실행 실패, 환경만 세팅 완료.

---

## 4. 내일 작업 계획
- robot-hat 패키지 구버전 설치 테스트
- 예제 코드 일부를 최신 API에 맞춰 패치 시도
- 실패 시 PiCar-X 공식 저장소에서 최신 예제 코드 재확인
